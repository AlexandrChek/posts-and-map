"use strict";(self["webpackChunkpostsviewer"]=self["webpackChunkpostsviewer"]||[]).push([[586],{586:function(t,e,o){o.r(e),o.d(e,{default:function(){return s}});var a=o(3396);const l={id:"map"};function r(t,e,o,r,p,n){return(0,a.wg)(),(0,a.iD)("div",l)}o(7658);var p={name:"MapView",data(){return{map:[]}},mounted(){if(this.map=L.map("map").setView([48.2,30.63],6),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map),localStorage.getItem("oldMarkers")){let t=JSON.parse(localStorage.getItem("oldMarkers"));t.forEach((t=>{let e={lat:t.lat,lng:t.lng},o=L.marker(e).addTo(this.map);o.bindTooltip(t.tooltip).openTooltip()}))}this.map.on("click",this.onMapClick)},methods:{onMapClick(t){let e=L.marker(t.latlng).addTo(this.map),o=L.popup();o.setLatLng(t.latlng).setContent('Enter title <input type="text" oninput="localStorage.setItem(\'tooltip\', value)"><br/><br/>Latitude: '+t.latlng.lat+"<br/>Longitude: "+t.latlng.lng).openOn(this.map),e.bindPopup(o),e.on("popupclose",(function(){let o=localStorage.getItem("tooltip");e.bindTooltip(o).openTooltip();let a=t.latlng;if(a.tooltip=o,localStorage.getItem("oldMarkers")){let t=JSON.parse(localStorage.getItem("oldMarkers"));t.push(a),localStorage.setItem("oldMarkers",JSON.stringify(t))}else{let t=[];t.push(a),localStorage.setItem("oldMarkers",JSON.stringify(t))}}))}}},n=o(89);const i=(0,n.Z)(p,[["render",r],["__scopeId","data-v-34514c13"]]);var s=i}}]);
//# sourceMappingURL=586.b2648a5c.js.map