{"version":3,"file":"js/203.f3722780.js","mappings":"yLACOA,GAAG,O,0CAARC,EAAAA,EAAAA,IAAoB,MAApBC,E,aAIA,GACEC,KAAM,UACNC,OACE,MAAO,CACLC,IAAK,GAET,EACAC,UAWE,GAVAC,KAAKF,IAAMG,EAAEH,IAAI,MAAO,CAAEI,aAAY,IAASC,QAAQ,CAAC,KAAO,OAAQ,GACvEF,EAAEG,UAAU,iDAAkD,CAC5DC,QAAS,GACTC,YAAa,8EACZC,MAAMP,KAAKF,KAEVU,OAAOC,YAAc,KACvBR,EAAES,QAAQC,KAAK,CAACC,SAAU,gBAAgBL,MAAMP,KAAKF,KAGnDe,aAAaC,QAAQ,cAAe,CACtC,IAAIC,EAAUC,KAAKC,MAAMJ,aAAaC,QAAQ,eAC9CC,EAAQG,SAAQC,IACd,IAAIC,EAAQ,CAACC,IAAKF,EAAGE,IAAKC,IAAKH,EAAGG,KAC9BC,EAAStB,EAAEsB,OAAOH,GAAOb,MAAMP,KAAKF,KACxCyB,EAAOC,YAAYL,EAAGM,SAASC,aAAY,GAE/C,CAEA1B,KAAKF,IAAI6B,GAAG,QAAS3B,KAAK4B,WAC5B,EACAC,QAAS,CACPD,WAAWE,GACT,IAAIP,EAAStB,EAAEsB,OAAOO,EAAEC,QAAQxB,MAAMP,KAAKF,KACvCkC,EAAQ/B,EAAE+B,QACdA,EACCC,UAAUH,EAAEC,QACZG,WAAW,yGAAmHJ,EAAEC,OAAOV,IAA5H,mBAA4JS,EAAEC,OAAOT,KAChLa,OAAOnC,KAAKF,KACbyB,EAAOa,UAAUJ,GACjBT,EAAOI,GAAG,cAAc,WACtB,IAAIU,EAAcxB,aAAaC,QAAQ,WACvCS,EAAOC,YAAYa,GAAaX,cAChC,IAAIY,EAAgBR,EAAEC,OAEtB,GADAO,EAAcb,QAAUY,EACpBxB,aAAaC,QAAQ,cAAe,CACtC,IAAIC,EAAUC,KAAKC,MAAMJ,aAAaC,QAAQ,eAC9CC,EAAQwB,KAAKD,GACbzB,aAAa2B,QAAQ,aAAcxB,KAAKyB,UAAU1B,GACpD,KAAO,CACL,IAAIA,EAAU,GACdA,EAAQwB,KAAKD,GACbzB,aAAa2B,QAAQ,aAAcxB,KAAKyB,UAAU1B,GACpD,CACF,GACF,I,QCnDN,MAAM2B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://postsviewer/./src/views/MapView.vue","webpack://postsviewer/./src/views/MapView.vue?d14b"],"sourcesContent":["<template>\r\n  <div id=\"map\"></div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'MapView',\r\n    data() {\r\n      return {\r\n        map: []\r\n      }\r\n    },\r\n    mounted() {\r\n      this.map = L.map('map', { zoomControl:false }).setView([48.20, 30.63], 6)\r\n      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        maxZoom: 19,\r\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\r\n      }).addTo(this.map)\r\n\r\n      if (window.innerWidth >= 768) {\r\n        L.control.zoom({position: 'bottomright'}).addTo(this.map)\r\n      }\r\n\r\n      if (localStorage.getItem(\"oldMarkers\")) {\r\n        let markers = JSON.parse(localStorage.getItem(\"oldMarkers\"))\r\n        markers.forEach(el => {\r\n          let coord = {lat: el.lat, lng: el.lng}\r\n          let marker = L.marker(coord).addTo(this.map)\r\n          marker.bindTooltip(el.tooltip).openTooltip()\r\n        })\r\n      }\r\n\r\n      this.map.on('click', this.onMapClick)\r\n    },\r\n    methods: {\r\n      onMapClick(e) {\r\n        let marker = L.marker(e.latlng).addTo(this.map)\r\n        let popup = L.popup()\r\n        popup\r\n        .setLatLng(e.latlng)\r\n        .setContent('Enter title ' + `<input type=\"text\" oninput=\"localStorage.setItem('tooltip', value)\"><br/><br/>` + 'Latitude: ' + e.latlng.lat + '<br/>' + 'Longitude: ' + e.latlng.lng)\r\n        .openOn(this.map)\r\n        marker.bindPopup(popup)\r\n        marker.on('popupclose', function() {\r\n          let toolTipText = localStorage.getItem('tooltip')\r\n          marker.bindTooltip(toolTipText).openTooltip()\r\n          let coordAndTitle = e.latlng\r\n          coordAndTitle.tooltip = toolTipText\r\n          if (localStorage.getItem(\"oldMarkers\")) {\r\n            let markers = JSON.parse(localStorage.getItem(\"oldMarkers\"))\r\n            markers.push(coordAndTitle)\r\n            localStorage.setItem(\"oldMarkers\", JSON.stringify(markers))\r\n          } else {\r\n            let markers = []\r\n            markers.push(coordAndTitle)\r\n            localStorage.setItem(\"oldMarkers\", JSON.stringify(markers))\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  #map {\r\n    height: calc(100vh - 12px);\r\n  }\r\n</style>\r\n","import { render } from \"./MapView.vue?vue&type=template&id=2a7ab668&scoped=true\"\nimport script from \"./MapView.vue?vue&type=script&lang=js\"\nexport * from \"./MapView.vue?vue&type=script&lang=js\"\n\nimport \"./MapView.vue?vue&type=style&index=0&id=2a7ab668&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Саша\\\\Фронт-енд\\\\ГМЦ\\\\posts_and_map\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a7ab668\"]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_hoisted_1","name","data","map","mounted","this","L","zoomControl","setView","tileLayer","maxZoom","attribution","addTo","window","innerWidth","control","zoom","position","localStorage","getItem","markers","JSON","parse","forEach","el","coord","lat","lng","marker","bindTooltip","tooltip","openTooltip","on","onMapClick","methods","e","latlng","popup","setLatLng","setContent","openOn","bindPopup","toolTipText","coordAndTitle","push","setItem","stringify","__exports__","render"],"sourceRoot":""}