{"version":3,"file":"js/828.5aa00644.js","mappings":"yLACOA,GAAG,O,0CAARC,EAAAA,EAAAA,IAAoB,MAApBC,E,aAIA,GACEC,KAAM,UACNC,OACE,MAAO,CACLC,IAAK,GAET,EACAC,UAUE,GATAC,KAAKF,IAAMG,EAAEH,IAAI,MAAO,CAAEI,aAAY,IAASC,QAAQ,CAAC,KAAO,OAAQ,GACvEF,EAAEG,UAAU,iDAAkD,CAC5DC,QAAS,GACTC,YAAa,8EACZC,MAAMP,KAAKF,KAEdE,KAAKQ,eACLC,OAAOC,SAAW,KAAOV,KAAKQ,cAAc,EAExCG,aAAaC,QAAQ,cAAe,CACtC,IAAIC,EAAUC,KAAKC,MAAMJ,aAAaC,QAAQ,eAC9CC,EAAQG,SAAQC,IACd,IAAIC,EAAQ,CAACC,IAAKF,EAAGE,IAAKC,IAAKH,EAAGG,KAC9BC,EAASpB,EAAEoB,OAAOH,GAAOX,MAAMP,KAAKF,KACxCuB,EAAOC,YAAYL,EAAGM,SAASC,aAAY,GAE/C,CAEAxB,KAAKF,IAAI2B,GAAG,QAASzB,KAAK0B,WAC5B,EACAC,QAAS,CACPD,WAAWE,GACT,IAAIP,EAASpB,EAAEoB,OAAOO,EAAEC,QAAQtB,MAAMP,KAAKF,KACvCgC,EAAQ7B,EAAE6B,QACdA,EACCC,UAAUH,EAAEC,QACZG,WAAW,yGAAmHJ,EAAEC,OAAOV,IAA5H,mBAA4JS,EAAEC,OAAOT,KAChLa,OAAOjC,KAAKF,KACbuB,EAAOa,UAAUJ,GACjBT,EAAOI,GAAG,cAAc,WACtB,IAAIU,EAAcxB,aAAaC,QAAQ,WACvCS,EAAOC,YAAYa,GAAaX,cAChC,IAAIY,EAAgBR,EAAEC,OAEtB,GADAO,EAAcb,QAAUY,EACpBxB,aAAaC,QAAQ,cAAe,CACtC,IAAIC,EAAUC,KAAKC,MAAMJ,aAAaC,QAAQ,eAC9CC,EAAQwB,KAAKD,GACbzB,aAAa2B,QAAQ,aAAcxB,KAAKyB,UAAU1B,GACpD,KAAO,CACL,IAAIA,EAAU,GACdA,EAAQwB,KAAKD,GACbzB,aAAa2B,QAAQ,aAAcxB,KAAKyB,UAAU1B,GACpD,CACF,GACF,EACAL,eACMC,OAAO+B,WAAa,IACtBxC,KAAKF,IAAI2C,QAAQC,UAEjBzC,EAAE0C,QAAQC,KAAK,CAACC,SAAU,gBAAgBtC,MAAMP,KAAKF,IAEzD,I,QCzDN,MAAMgD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://postsviewer/./src/views/MapView.vue","webpack://postsviewer/./src/views/MapView.vue?d14b"],"sourcesContent":["<template>\n  <div id=\"map\"></div>\n</template>\n\n<script>\n  export default {\n    name: 'MapView',\n    data() {\n      return {\n        map: []\n      }\n    },\n    mounted() {\n      this.map = L.map('map', { zoomControl:false }).setView([48.20, 30.63], 6)\n      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 19,\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n      }).addTo(this.map)\n\n      this.widthControl()\n      window.onresize = () => {this.widthControl()}\n\n      if (localStorage.getItem(\"oldMarkers\")) {\n        let markers = JSON.parse(localStorage.getItem(\"oldMarkers\"))\n        markers.forEach(el => {\n          let coord = {lat: el.lat, lng: el.lng}\n          let marker = L.marker(coord).addTo(this.map)\n          marker.bindTooltip(el.tooltip).openTooltip()\n        })\n      }\n\n      this.map.on('click', this.onMapClick)\n    },\n    methods: {\n      onMapClick(e) {\n        let marker = L.marker(e.latlng).addTo(this.map)\n        let popup = L.popup()\n        popup\n        .setLatLng(e.latlng)\n        .setContent('Enter title ' + `<input type=\"text\" oninput=\"localStorage.setItem('tooltip', value)\"><br/><br/>` + 'Latitude: ' + e.latlng.lat + '<br/>' + 'Longitude: ' + e.latlng.lng)\n        .openOn(this.map)\n        marker.bindPopup(popup)\n        marker.on('popupclose', function() {\n          let toolTipText = localStorage.getItem('tooltip')\n          marker.bindTooltip(toolTipText).openTooltip()\n          let coordAndTitle = e.latlng\n          coordAndTitle.tooltip = toolTipText\n          if (localStorage.getItem(\"oldMarkers\")) {\n            let markers = JSON.parse(localStorage.getItem(\"oldMarkers\"))\n            markers.push(coordAndTitle)\n            localStorage.setItem(\"oldMarkers\", JSON.stringify(markers))\n          } else {\n            let markers = []\n            markers.push(coordAndTitle)\n            localStorage.setItem(\"oldMarkers\", JSON.stringify(markers))\n          }\n        })\n      },\n      widthControl() {\n        if (window.innerWidth < 768) {\n          this.map.boxZoom.disable()\n        } else {\n          L.control.zoom({position: 'bottomright'}).addTo(this.map)\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #map {\n    height: calc(100vh - 12px);\n  }\n</style>\n","import { render } from \"./MapView.vue?vue&type=template&id=6d791021&scoped=true\"\nimport script from \"./MapView.vue?vue&type=script&lang=js\"\nexport * from \"./MapView.vue?vue&type=script&lang=js\"\n\nimport \"./MapView.vue?vue&type=style&index=0&id=6d791021&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Саша\\\\Фронт-енд\\\\ГМЦ\\\\posts_and_map\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d791021\"]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_hoisted_1","name","data","map","mounted","this","L","zoomControl","setView","tileLayer","maxZoom","attribution","addTo","widthControl","window","onresize","localStorage","getItem","markers","JSON","parse","forEach","el","coord","lat","lng","marker","bindTooltip","tooltip","openTooltip","on","onMapClick","methods","e","latlng","popup","setLatLng","setContent","openOn","bindPopup","toolTipText","coordAndTitle","push","setItem","stringify","innerWidth","boxZoom","disable","control","zoom","position","__exports__","render"],"sourceRoot":""}