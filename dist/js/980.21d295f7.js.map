{"version":3,"file":"js/980.21d295f7.js","mappings":"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","sources":["webpack://postsviewer/./src/views/MapView.vue","webpack://postsviewer/./src/components/ModalRemover.vue","webpack://postsviewer/./src/components/ModalRemover.vue?a446","webpack://postsviewer/./src/views/MapView.vue?d14b"],"sourcesContent":["<template>\r\n  <div id=\"map\"></div>\r\n  <ModalRemover v-if=\"isModalRemover\" :toDel=\"toDel\" @closeRemover=\"closeModal\"></ModalRemover>\r\n</template>\r\n\r\n<script>\r\nimport ModalRemover from '../components/ModalRemover.vue'\r\n\r\n  export default {\r\n    name: 'MapView',\r\n    components: {ModalRemover},\r\n    data() {\r\n      return {\r\n        map: [],\r\n        isModalRemover: false,\r\n        toDel: {}\r\n      }\r\n    },\r\n    mounted() {\r\n      this.map = L.map('map', { zoomControl:false }).setView([48.20, 30.63], 6)\r\n      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        maxZoom: 19,\r\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\r\n      }).addTo(this.map)\r\n\r\n      if (window.innerWidth >= 768) {\r\n        L.control.zoom({position: 'bottomright'}).addTo(this.map)\r\n      }\r\n\r\n      if (localStorage.getItem(\"oldMarkers\")) {\r\n        let markers = JSON.parse(localStorage.getItem(\"oldMarkers\"))\r\n        if (JSON.parse(sessionStorage.getItem(\"toDel\"))) {\r\n          let toDel = JSON.parse(sessionStorage.getItem(\"toDel\"))\r\n          markers = markers.filter(el => {\r\n            return el.lat !== toDel.lat && el.lng !== toDel.lng\r\n          })\r\n          localStorage.setItem(\"oldMarkers\", JSON.stringify(markers))\r\n        }\r\n        markers.forEach(el => {\r\n          let coord = {lat: el.lat, lng: el.lng}\r\n          let marker = L.marker(coord, {contextmenu: false}).addTo(this.map)\r\n          marker.bindTooltip(el.tooltip)\r\n          marker.on('contextmenu', this.getModalRemover)\r\n        })\r\n      }\r\n\r\n      this.map.on('click', this.onMapClick)\r\n    },\r\n    methods: {\r\n      onMapClick(e) {\r\n        let marker = L.marker(e.latlng).addTo(this.map)\r\n        let popup = L.popup()\r\n        popup\r\n        .setLatLng(e.latlng)\r\n        .setContent('Enter title ' + `<input type=\"text\" oninput=\"localStorage.setItem('tooltip', value)\"><br/><br/>` + 'Latitude: ' + e.latlng.lat + '<br/>' + 'Longitude: ' + e.latlng.lng)\r\n        .openOn(this.map)\r\n        marker.bindPopup(popup)\r\n        marker.on('popupclose', function() {\r\n          let toolTipText = localStorage.getItem('tooltip')\r\n          marker.bindTooltip(toolTipText)\r\n          let coordAndTitle = e.latlng\r\n          coordAndTitle.tooltip = toolTipText\r\n          if (localStorage.getItem(\"oldMarkers\")) {\r\n            let markers = JSON.parse(localStorage.getItem(\"oldMarkers\"))\r\n            markers.push(coordAndTitle)\r\n            localStorage.setItem(\"oldMarkers\", JSON.stringify(markers))\r\n          } else {\r\n            let markers = []\r\n            markers.push(coordAndTitle)\r\n            localStorage.setItem(\"oldMarkers\", JSON.stringify(markers))\r\n          }\r\n        })\r\n      },\r\n      getModalRemover(e) {\r\n        this.isModalRemover = true\r\n        this.toDel = e.latlng\r\n      },\r\n      closeModal() {\r\n        this.isModalRemover = false\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  #map {\r\n    height: calc(100vh - 12px);\r\n  }\r\n</style>\r\n","<template>\r\n    <div class=\"modal-wrapper rounded\">\r\n        <p class=\"text-center\">Remove this marker?</p>\r\n        <div class=\"text-center\">\r\n            <button class=\"btn btn-danger px-0\" @click=\"removeM\">Remove</button>\r\n            <button class=\"btn btn-danger px-0\" @click=\"close\">Cancel</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'ModalRemover',\r\n    props: ['toDel'],\r\n    methods: {\r\n        removeM () {\r\n            sessionStorage.setItem(\"toDel\", JSON.stringify(this.toDel))\r\n            this.$emit('closeRemover')\r\n            location.reload()\r\n        },\r\n        close () {\r\n            this.$emit('closeRemover')\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.modal-wrapper {\r\n    position: fixed;\r\n    top: 20vw;\r\n    left: 40%;\r\n    width: 20%;\r\n    z-index: 800;\r\n    background-color: rgb(205, 205, 205);\r\n    border: 1px solid black;\r\n    @media (max-width: 1199px) {\r\n        left: 36%;\r\n        width: 28%;\r\n    }\r\n    @media (max-width: 991px) {\r\n        left: 34%;\r\n        width: 32%;\r\n    }\r\n    @media (max-width: 767px) {\r\n        top: 32vh;\r\n        left: 30%;\r\n        width: 40%;\r\n    }\r\n    @media (max-width: 575px) {\r\n        left: 20%;\r\n        width: 60%;\r\n    }\r\n}\r\np {\r\n    font-size: 19px;\r\n    font-weight: bold;\r\n    color: black;\r\n    margin: 13px;\r\n    @media (max-width: 991px) {\r\n        font-size: 18px;\r\n    }\r\n    @media (max-width: 575px) {\r\n        font-size: 16px;\r\n    }\r\n}\r\nbutton {\r\n    width: 32%;\r\n    margin: 9px 5%;\r\n    @media (max-width: 575px) {\r\n        font-size: 15px;\r\n        padding: 3px 2px;\r\n    } \r\n}\r\n</style>","import { render } from \"./ModalRemover.vue?vue&type=template&id=08d2025c&scoped=true\"\nimport script from \"./ModalRemover.vue?vue&type=script&lang=js\"\nexport * from \"./ModalRemover.vue?vue&type=script&lang=js\"\n\nimport \"./ModalRemover.vue?vue&type=style&index=0&id=08d2025c&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\Саша\\\\Фронт-енд\\\\ГМЦ\\\\posts_and_map\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-08d2025c\"]])\n\nexport default __exports__","import { render } from \"./MapView.vue?vue&type=template&id=3805c967&scoped=true\"\nimport script from \"./MapView.vue?vue&type=script&lang=js\"\nexport * from \"./MapView.vue?vue&type=script&lang=js\"\n\nimport \"./MapView.vue?vue&type=style&index=0&id=3805c967&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Саша\\\\Фронт-енд\\\\ГМЦ\\\\posts_and_map\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3805c967\"]])\n\nexport default __exports__"],"names":["_createElementVNode","id","_hoisted_1","$data","_createBlock","_component_ModalRemover","toDel","onCloseRemover","$options","class","_createElementBlock","_hoisted_2","_hoisted_3","onClick","name","props","methods","removeM","sessionStorage","setItem","JSON","stringify","this","$emit","location","reload","close","__exports__","components","ModalRemover","data","map","isModalRemover","mounted","L","zoomControl","setView","tileLayer","maxZoom","attribution","addTo","window","innerWidth","control","zoom","position","localStorage","getItem","markers","parse","filter","el","lat","lng","forEach","coord","marker","contextmenu","bindTooltip","tooltip","on","getModalRemover","onMapClick","e","latlng","popup","setLatLng","setContent","openOn","bindPopup","toolTipText","coordAndTitle","push","closeModal","render"],"sourceRoot":""}